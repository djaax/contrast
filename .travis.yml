language: node_js
node_js:
- '8'
notifications:
  email:
    on_success: change
    on_failure: always
before_install:
- npm install -g greenkeeper-lockfile@1
before_script:
- greenkeeper-lockfile-update
- npm run build
after_script:
- greenkeeper-lockfile-upload
- codecov
env:
  global:
  - secure: AN+0IYcfJWIT7nmvLfa5ZDrNEWHNWbRMsqo4CQ+zDnpkcJLqdKjVbQYyZ7fgxD0EiqG8PYVc4qizeNlASBI8SrCkMMf6yszVvwTvbmqOLzwbrC6fE6A7E4h5QVYOYu30ThwiTKTAfN09+kF8D0c8daVJJcf3Junf7AdsqqzMU3Mur65OBMxVDHd0D01GvqBiddU4NRduQxeJ3soxr2ad1jZIKc+gMPQNZY5bThsY2ygawUV4IYv0+VOnHZpzTY4aIvSeLJqAz/xNHieptsEz0qLOJ7nQeDZjW3KH//wPbjDsEmNiREQBLUylcj1t6P69st7+CJg1Z/prwcrY5rleLxjVlScgCIflFyLkYG2bjpAF/YUCL/9RRqzAGk3SIyngM7/0YYchduBqNwJm/xe5kbsnqstHu4ZC4IDXU5fc1N9EWc9kVNh1GxqbBotrlb48twvB9PFC5pcoMPoVEN3t5oncRKwZ6PW9DODez9OGbgelO7kXcnjMLweB2gEEfgNinnz/aAzu7r7e6qJ/ViiUPK9yffNY2uS7hVPHb3XlbPYXnTgcBu34riCNSRgvH61JpHLkCHxrNnzFEHHpHNSjk92p8QUdjrtQ8Ew779dcz7zlBCSuBrO/HLQKp3nB3Kh/uvNV723KPzpf857gwqFt8EsWFMaSJtwdf9+G2iIGdbk=
  - secure: Da097y0Z9noNqOoEvZBHN07P1pNpxeJyjaFsOk4aWMrUgEPsdMIF+KZnOO3zBkT5Lo5/bVk0UMXqDl+ZOFBGBZE/VXXo4U8vz85ithEHzQ1Tw2uubqn57efcbAIxyoobUKPCg9DhCDmqpgQhvwpzZyH+zEWgLo6indc8027Qxs5sWfdtnsEA50xr9axKZTJN3s+lfEqEotGoorf5YndkndQpo3YOAzMQhwwlzBx6GyJ3LZmNxywH5fqfYWhpmkqYkZknQRmbDmCDtEIXT3VkzNvUIvkcBONc8jTUhYc73G2JzZ856gqhWG09rRJ8mKW3tU+4sfZXmFTIFBj7mrpzL9zq4TJjWY4MRpciAZ7PRTjduy4OLsjJofdDtthqGmkfgIyK+aL7qp3GmlOV5RR5w7hZKDP21FrABszY7ihNkJPwEt2pCp7DathoiuXofGAhjFPU5k3uTPb2PUP7jK0PDVWJ+kVrQsZC7O+mHGWV4/I9wYfougx52D9o0AfbGRs5cdkMWXWmDIpHV9SoRhs6MVJNf05SLPmQ1Ac+gWR/t+pzcBc/ynZsUikztP9KHdtDkW+QUoSt1e+8gX8Fdqd9k+en595D5F4BKOOuGROkz8e3wN2sQIDq2blczEHniZRTd8pq281N2qljofD5pW36E1X/U6YWkYtVPfi/7D8MT+E=
deploy:
  - provider: script
    skip_cleanup: true
    script: npm run _version
    on:
      branch: master
      repo: smockle/contrast
      tags: false
  - provider: npm
    skip_cleanup: true
    email: bot@smockle.com
    api_key:
      secure: iBY2Sy1yxFCLSYaOCQa8Spa1ePU2/P7/p9OkGdO117AVMuiQ3DkWRCPmHAB2DWC+s3x/9s8Am2BkfmxVLUQ9aQPQaSE7w0IuNU9S1Cw2mIuLtUg68GNgwllxv55nqQQX5MCDStfzmNhaAOB6RvgT9WjYreHgLEjmUZ0oCluYRlHO8uHkyIG0MfACc8EKQNeUUbSOcC2g9Qq4v8oyXzCDf0H8eJjhFMsG8RkslKGhtnHgi3jDc5SXKeGvwCftNAq+W80/5IdlR7AhPg7YUtiobuOAlExQFvOxQ9BTqJSlHUAoETlth0YkgXRYAdplMTG6y5ZHeXRz8+gMXG+JfCQ9MBpQIp/9rAhv+jyHUls1UMBo4ZE2bDxaTwWGAv03x0Hf3ogl1klCR8OuobqJdF+/ZONJFdOpyWDvVaYbj7/aTB3ZshgApXKpNKXuCPpC/v9hTz/28hkPZdw/u4AC50/ooJtxEogWkjsVWbslBK3T08+bsjri7s5lYaK7YWVrmMk2tnC/B5DjTbIWmBxpph+VHDAFm/LLymz3Db2maXgIlTZqifmmeJTg0cUogGFyftVBHi6a/OLDEwY+mgpwPRsjq+KMLOKkctXF+dHOblT2YKhKTk+SEDTveJfmNCUHDu5Cr9G8a4/m2tQDH7TeUcQCDHEL25yRR7Mv9lNwXdv5TWA=
    on:
      branch: master
      repo: smockle/contrast
      tags: false
